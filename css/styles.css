:root{
  --maxw: 1000px;
  --gap: 10px;
  --bg: #ffffff;
  --card: #ffffff;
  --ink: #0b1220;
  --muted: #595a5c;
}

/* Title fonts */
.card--subtitle h2 {
  font-family: "Coustard", serif;
  font-weight: 900;
  font-style: normal;
  font-size: 25px;
  letter-spacing: 0.3px;
  text-align: center;
  color: #000000;
}
.card--title h1 {
  font-family: "Coustard", serif;
  font-weight: 900;
  font-style: normal;
  font-size: 34px;
  letter-spacing: 0.3px;
  color: #000000;
  text-align: center;
}

/* Regular titles in cards */
.card__title,
.card h3 {
  font-family: "Coustard", serif;
  font-weight: 400;
  font-style: normal;
  font-size: 16px;
  color: #000000;
}

/* Utility (kept in case you use it elsewhere) */
.coustard-black {
  font-family: "Coustard", serif;
  font-weight: 900;
  font-style: normal;
}

/* Body copy */
p {
  font-size: 13px;
  line-height: 1.5;
  text-align: justify;
  margin-top: 0;
  margin-bottom: 10px;
  color: #575355;
  font-family: "Nunito", sans-serif;
  font-optical-sizing: auto;
  font-weight: 400;
  font-style: normal;
}

/* Strong inside paragraphs */
.card p strong { font-weight: 700; }

/* Reset & base */
html,body { height: 100%; margin: 0; }
body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  background: var(--bg);
  color: var(--ink);
  justify-content: center;
}

/* Grid */
.page{
  max-width: var(--maxw);
  margin: 70px auto;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  grid-auto-rows: auto;
  gap: var(--gap);
  grid-template-areas:
    "title  title  title"
    "lolli  lolli  desc1"
    "map1   map1   map1"
    "map2   map2   desc2"
    "vTitle vTitle vTitle"
    "facet  facet  desc3"
    "heat   heat   desc4"
    "dTitle dTitle dTitle"
    "vAge   vGen   vEth"
    "desc5  desc6  desc7"
    "cTitle cTitle cTitle"
    "cAge   cGen   cEth"
    "desc8  desc9  desc10"
    "meta   meta   meta";
}

/* Cards */
.card{ background:var(--card); border-radius:0; padding:14px 16px 12px; }
.card--title{
  text-align:center;
  padding:22px 18px;
  margin-bottom: 25px;
  border-bottom:2px solid #3b3b3b; /* single separator under the main header */
}
.card__title{ margin:0 0 8px; font-size:18px; }
.subtitle{ color:var(--muted); margin:6px 0 0; }

/* Tight heading spacing inside cards */
.card h1, .card h2, .card h3, .card h4{
  margin-top:0;
  margin-bottom:8px;
  line-height:1.2;
}

/* Section separators for subtitle blocks */
.card--subtitle{
  border-top: 1px solid #3b3b3b; /* single separator above the block */
  padding-top: 14px;
  margin-top: 25px;
}

/* Description box headers (inside asides) */
.card aside h3,
aside.card h3 {
  font-family: "Coustard", serif;
  font-weight: 400;
  font-size: 15px;
  color: #383838;
  margin-bottom: 6px;
  padding-bottom: 6px;
  letter-spacing: 0.2px;
}

/* Bindings (dropdowns) */
#viz-heat,
#viz-map-state{
  position: relative;
  padding-top: 30px; /* room for dropdown */
}
.vega-bindings{
  position: absolute;
  top: 0;
  left: 0;
  margin: 0;
  padding: 0;
  font-family: "Nunito", sans-serif;
  font-size: 12px;
  font-weight: 400;
  line-height: 1.2;
  z-index: 10;
}
.vega-bindings label{
  font-weight: 500;
  margin-right: 4px;
  color: #111;
}
.vega-bindings select{
  font-family: inherit;
  font-size: 12px;
  font-weight: 400;
  padding: 2px 6px;
  border: 1px solid #ccc;
  border-radius: 4px;
  background: #fff;
  outline: none;
}

/* Area hooks */
[style*="grid-area:title"]{grid-area:title}
[style*="grid-area:lolli"]{grid-area:lolli}
[style*="grid-area:desc1"]{grid-area:desc1}
[style*="grid-area:map1"]{grid-area:map1}
[style*="grid-area:map2"]{grid-area:map2}
[style*="grid-area:desc2"]{grid-area:desc2}
[style*="grid-area:vTitle"]{grid-area:vTitle}
[style*="grid-area:facet"]{grid-area:facet}
[style*="grid-area:desc3"]{grid-area:desc3}
[style*="grid-area:heat"]{grid-area:heat}
[style*="grid-area:desc4"]{grid-area:desc4}
[style*="grid-area:dTitle"]{grid-area:dTitle}
[style*="grid-area:vAge"]{grid-area:vAge}
[style*="grid-area:vGen"]{grid-area:vGen}
[style*="grid-area:vEth"]{grid-area:vEth}
[style*="grid-area:desc5"]{grid-area:desc5}
[style*="grid-area:desc6"]{grid-area:desc6}
[style*="grid-area:desc7"]{grid-area:desc7}
[style*="grid-area:cTitle"]{grid-area:cTitle}
[style*="grid-area:cAge"]{grid-area:cAge}
[style*="grid-area:cGen"]{grid-area:cGen}
[style*="grid-area:cEth"]{grid-area:cEth}
[style*="grid-area:desc8"]{grid-area:desc8}
[style*="grid-area:desc9"]{grid-area:desc9}
[style*="grid-area:desc10"]{grid-area:desc10}
[style*="grid-area:meta"]{grid-area:meta}

/* Viz containers */
.viz{ width:100%; min-height:280px }
.viz--map   { width:100%; height:250px }
.viz--mapSm { width:100%; height:300px }
.viz--lolli { width:100%; height:180px }
.viz--hist  { width:100%; height:100px }
.viz--heat  { width:100%; height:300px }
.viz--sm    { width:100%; height:200px }

.subtitle-tip{
  font-size: 0.7em;
  font-style: italic;
  color: #5f6b7a;
}

/* Meta box */
[style*="grid-area:meta"]{
  margin-top: 20px;
  background: #ffffff;
  border-radius: 0;
  padding: 12px 18px;
  font-size: 13px;
  color: #ffffff;
  box-shadow: none;
  border-top: 2px solid #3b3b3b;
}
[style*="grid-area:meta"] p{
  text-align: justify;
  font-size: 12px;
  line-height: 1.5;
  color: #595959;
}

/* Mobile */
@media (max-width:700px){
  .page{
    grid-template-columns:1fr;
    grid-template-areas:
      "title"
      "lolli"
      "desc1"
      "map1"
      "map2"
      "desc2"
      "vTitle"
      "facet"
      "desc3"
      "heat"
      "desc4"
      "dTitle"
      "vAge"
      "desc5"
      "vGen"
      "desc6"
      "vEth"
      "desc7"
      "cTitle"
      "cAge"
      "desc8"
      "cGen"
      "desc9"
      "cEth"
      "desc10"
      "meta";
  }
}