<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Malaysia GE15 — Results & Turnout Dashboard</title>

  <!-- Vega libs -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <main class="page">
  <header class="card card--title" style="grid-area:title">
    <h1>Malaysia’s 15th General Election (GE15)</h1>
    <p class="subtitle">Results, turnout and electorate profile</p>
  </header>

  <section class="card" style="grid-area:lolli">
    <h2 class="card__title">Parliament Seats (Lollipop)</h2>
    <div id="viz-lollipop" class="viz"></div>
  </section>
  <aside class="card" style="grid-area:desc1"><p>Short explainer…</p></aside>

  <section class="card" style="grid-area:map1">
    <h2 class="card__title">Map — Whole Nation</h2>
    <div id="viz-map-all" class="viz viz--map"></div>
  </section>
  <section class="card" style="grid-area:map2">
    <h2 class="card__title">Map — State Zoom</h2>
    <div id="viz-map-state" class="viz viz--mapSm"></div>
  </section>

  <aside class="card" style="grid-area:desc2">…</aside>
  <aside class="card" style="grid-area:desc3">…</aside>
  <aside class="card" style="grid-area:desc4">…</aside>

  <section class="card card--subtitle" style="grid-area:vTitle">
  <h2 class="card__title">Voter</h2>
  <p class="subtitle"> ...</p>
  </section>

  <section class="card" style="grid-area:facet">
    <h2 class="card__title">Turnout — Faceted Histogram</h2>
    <div id="viz-facet" class="viz viz--tall"></div>
  </section>
  <aside class="card" style="grid-area:desc5">…</aside>

  <section class="card" style="grid-area:heat">
    <h2 class="card__title">Turnout Heatmap (GE11–GE15)</h2>
    <div id="viz-heat" class="viz viz--tall"></div>
  </section>
  <aside class="card" style="grid-area:desc6">…</aside>

  <section class="card card--subtitle" style="grid-area:dTitle">
  <h2 class="card__title">Voter Demographics</h2>
  <p class="subtitle">A closer look at the age, gender, and ethnic composition of Malaysia’s electorate.</p>
  </section>

  <section class="card" style="grid-area:vAge"><h2 class="card__title">Voters — Age</h2><div id="viz-v-age" class="viz"></div></section>
  <section class="card" style="grid-area:vGen"><h2 class="card__title">Voters — Gender</h2><div id="viz-v-gen" class="viz"></div></section>
  <section class="card" style="grid-area:vEth"><h2 class="card__title">Voters — Ethnicity</h2><div id="viz-v-eth" class="viz"></div></section>

  <aside class="card" style="grid-area:desc7">…</aside>
  <aside class="card" style="grid-area:desc8">…</aside>
  <aside class="card" style="grid-area:desc9">…</aside>

  <section class="card card--subtitle" style="grid-area:cTitle">
  <h2 class="card__title">CndidateDemographics</h2>
  <p class="subtitle">A closer look at the age, gender, and ethnic composition of Malaysia’s electorate.</p>
  </section>

  <section class="card" style="grid-area:cAge"><h2 class="card__title">Candidates — Age</h2><div id="viz-c-age" class="viz"></div></section>
  <section class="card" style="grid-area:cGen"><h2 class="card__title">Candidates — Gender</h2><div id="viz-c-gen" class="viz"></div></section>
  <section class="card" style="grid-area:cEth"><h2 class="card__title">Candidates — Ethnicity</h2><div id="viz-c-eth" class="viz"></div></section>

  <aside class="card" style="grid-area:desc10">…</aside>
  <aside class="card" style="grid-area:desc11">…</aside>
  <aside class="card" style="grid-area:desc12">…</aside>
</main>

<script>
  const opts = { actions: false, renderer: "canvas" };

  // 1. Lollipop / Bar
  vegaEmbed('#viz-lollipop', 'js/result_bar.vg.json', opts);

  // 2. Whole-nation map
  vegaEmbed('#viz-map-all', 'js/parlimen_all_map.vg.json', opts);

  // 3. State zoom map
  vegaEmbed('#viz-map-state', 'js/parlimen_state_map.vg.json', opts);

  // 4. Facet histogram
  vegaEmbed('#viz-facet', 'js/area_turnout.vg.json', opts);

  // 5. Turnout heatmap
  vegaEmbed('#viz-heat', 'js/heatmap_turnoutGE11toGE15.vg.json', opts);

  // 6–8. Voters: age / gender / ethnicity
  vegaEmbed('#viz-v-age', 'js/ge15_voter_age.vg.json', opts);
  vegaEmbed('#viz-v-gen', 'js/ge15_voter_gender.vg.json', opts);
  vegaEmbed('#viz-v-eth', 'js/ge15_voter_ethnicity.vg.json', opts);

  // 9–11. Candidates: age / gender / ethnicity
  vegaEmbed('#viz-c-age', 'js/ge15_candidate_age.vg.json', opts);
  vegaEmbed('#viz-c-gen', 'js/ge15_candidate_gender.vg.json', opts);
  vegaEmbed('#viz-c-eth', 'js/ge15_candidate_ethnicity.vg.json', opts);
</script>
</body>
</html>